* { margin:0; padding:0; box-sizing:border-box; }
body {
    font-family:'Crimson Pro', serif;
    min-height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    background: linear-gradient(135deg,#ffd6e8 0%,#ffe5f0 25%,#fff0f5 50%,#ffe5f0 75%,#ffd6e8 100%);
    background-size:400% 400%;
    animation:gradientShift 15s ease infinite;
    overflow:hidden;
}
@keyframes gradientShift{
    0%,100%{background-position:0% 50%;}
    50%{background-position:100% 50%;}
}
.container{ text-align:center; position:relative; z-index:1; width:100%; max-width:600px; }
.heart-icon{ font-size:80px; animation:heartbeat 1.5s ease-in-out infinite; display:inline-block; filter:drop-shadow(0 10px 25px rgba(255,105,180,0.4)); }
@keyframes heartbeat{0%,100%{transform:scale(1);}10%{transform:scale(1.1);}30%{transform:scale(1.15);}40%{transform:scale(1);} }
h1{ font-family:'Playfair Display', serif; font-size:2.8rem; color:#d81b60; margin:15px 0; text-shadow:2px 2px 4px rgba(216,27,96,0.2);}
.question{ font-size:1.4rem; color:#c2185b; margin:10px 0 30px; font-weight:600;}
.response-text{ font-size:1.2rem; color:#880e4f; min-height:30px; font-style:italic; animation:textPulse 0.5s ease-out;}
@keyframes textPulse{0%{transform:scale(0.8);opacity:0;}50%{transform:scale(1.1);}100%{transform:scale(1);opacity:1;}}
.buttons{display:flex; gap:20px; justify-content:center; margin-top:30px;}
button{
    padding:15px 40px;
    font-size:1.2rem;
    font-weight:700;
    border:none;
    border-radius:50px;
    cursor:pointer;
    box-shadow:0 6px 15px rgba(255,105,180,0.3);
    transition:all 0.3s ease;
    background:linear-gradient(135deg,#ffb3c1,#ff6b9d);
    color:white;
}
button:hover{ transform:scale(1.05); }
#noBtn{ background:linear-gradient(135deg,#ffe5f0,#ffb3d9); color:#d81b60; }

.success-message{ display:none; width:100%; }
.celebration{ font-size:50px; margin-bottom:20px; animation:celebrate 0.8s ease-in-out;}
@keyframes celebrate{0%,100%{transform:rotate(0deg) scale(1);}25%{transform:rotate(-12deg) scale(1.15);}75%{transform:rotate(12deg) scale(1.15);} }

.envelope-wrapper{ perspective:1500px; width:100%; height:350px; margin:0 auto; }
.envelope{ position:relative; width:100%; height:100%; cursor:pointer; animation:wobble 2s infinite alternate; }
@keyframes wobble{0%{transform:rotate(-2deg);}100%{transform:rotate(2deg);} }
.envelope-front{ position:absolute; width:100%; height:100%; bottom:0; left:0; background:linear-gradient(135deg,#ff6b9d,#f48fb1); border-radius:8px; z-index:3; }
.envelope-flap{ position:absolute; width:100%; height:100%; top:0; left:0; background:linear-gradient(135deg,#d81b60,#ff6b9d); transform-origin:top; transition:transform 0.6s; z-index:4; border-radius:8px 8px 0 0; clip-path: polygon(0 0,50% 60%,100% 0);}
.envelope.open .envelope-flap{ transform:rotateX(-180deg); z-index:1;}
.envelope-seal{position:absolute;top:0;left:50%;transform:translateX(-50%);width:60px;height:60px;background:white;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:30px;z-index:5;transition:all 0.6s;}
.envelope.open .envelope-seal{ opacity:0; transform:translateX(-50%) scale(0); }
.letter{ position:absolute; bottom:0; left:50%; transform:translateX(-50%); width:90%; height:10px; background:#fffef7; z-index:2; transition:all 1s ease-in-out; border-radius:4px; overflow:hidden; }
.envelope.open .letter{ bottom:-50px; height:500px; max-height:70vh; z-index:10; transition-delay:0.5s; border:1px solid #f0e6d2; }
.letter-content{ padding:40px; height:100%; overflow-y:auto; }
.letter-header{text-align:center; margin-bottom:30px; padding-bottom:20px; border-bottom:3px double #ff6b9d;}
.letter-header h2{font-family:'Playfair Display',serif;font-size:2rem;color:#d81b60;margin:0;}
.letter-body{color:#2c2c2c;font-size:1.1rem;line-height:1.8;text-align:left;}
.letter-body p{ margin:15px 0; }
.heart-decoration{text-align:center;font-size:30px;margin:20px 0; animation:heartFloat 2s ease-in-out infinite;}
@keyframes heartFloat{0%,100%{transform:translateY(0px) scale(1);}50%{transform:translateY(-5px) scale(1.1);} }
.ps-note{margin-top:30px;padding-top:20px;border-top:2px dashed #ff6b9d;font-style:italic;color:#c2185b;font-size:1rem;}
.letter-signature{text-align:right;margin-top:40px;font-size:1.3rem;color:#d81b60;font-family:'Playfair Display',serif;font-style:italic;font-weight:600;}

.confetti{ position:absolute;width:10px;height:10px;pointer-events:none; z-index:20; }

.teddy-drop, .choco-drop, .heart-drop {
    position: absolute;
    pointer-events: none;
    font-size: 25px; 
    top: -50px;
    animation: drop 8s linear infinite;
}

@keyframes drop {
    0% { transform: translateY(-50px); opacity:1; }
    90% { opacity:1; }
    100% { transform: translateY(100vh); opacity:0; }
}

#backBtn{
    position:fixed;
    bottom:20px;
    left:20px;
    z-index:30;
    display:inline-block; 
}

#musicControl{
    position:fixed;
    bottom:20px;
    right:20px;
    z-index:30;
    display:inline-block;
    font-size:1.8rem;
    cursor:pointer;
}
